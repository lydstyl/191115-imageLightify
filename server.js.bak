const express = require("express");

// // Middleware
// function authenticateToken(req, res, next) {
//   const authHeader = req.headers["authorization"];

//   let token;
//   if (authHeader) {
//     token = authHeader.split(" ")[1];
//   }

//   if (!token) return res.sendStatus(401);

//   jwt.verify(token, process.env.SECRET, (err, payload) => {
//     if (err) return res.sendStatus("403");

//     req.userName = payload.userName;

//     next();
//   });
// }

const app = express();

app.use(express.json());

app.get("/", (req, res) => {
  //req.userName

  res.json({ msg: "coucou" });
});

// app.get("/privates", authenticateToken, (req, res) => {
//   //req.userName

//   res.json(privatesInformations.filter((p) => p.userName === req.userName));
// });

// app.post("/login", (req, res) => {
//   // Authenticate user here

//   const userName = req.body.userName;

//   const payload = { userName };

//   const token = jwt.sign(payload, process.env.SECRET);

//   res.json({ token });
// });

app.listen(3000);
